# ARTS counter profile: overhead budget + compiler-hint effectiveness
#
# Goal: break down runtime overheads and quantify the value of compiler hints
# (acquire-mode overrides, twin/diff) while keeping per-arts_id attribution.
#
# Enable by configuring ARTS with:
#   cmake .. -DCOUNTER_CONFIG_PATH=/path/to/external/arts/counter.profile-overhead.cfg
#
# Notes:
# - This is for diagnosis runs; keep it separate from headline timing.
# - `NODE` counters write `counterFolder/n<node>.json`.
# - `THREAD` counters write `counterFolder/n<node>_t<thread>.json`.

# EDT lifecycle
edtCreateCounter=ONCE,NODE
signalEdtCounter=ONCE,NODE
edtRunningTime=ONCE,NODE
numEdtsCreated=ONCE,NODE
numEdtsAcquired=ONCE,NODE
numEdtsFinished=ONCE,NODE

# Events
eventCreateCounter=ONCE,NODE
persistentEventCreateCounter=ONCE,NODE
signalEventCounter=ONCE,NODE

# DB lifecycle and access APIs
dbCreateCounter=ONCE,NODE
getDbCounter=ONCE,NODE
putDbCounter=ONCE,NODE
numDbsCreated=ONCE,NODE

# GUID and runtime control
guidAllocCounter=ONCE,NODE
guidLookupCounter=ONCE,NODE
contextSwitch=OFF
yield=ONCE,NODE

# Memory pressure and allocator costs
mallocMemory=ONCE,NODE
callocMemory=ONCE,NODE
freeMemory=ONCE,NODE
memoryFootprint=ONCE,NODE

# Remote movement
remoteMemoryMove=ONCE,NODE
remoteBytesSent=ONCE,NODE
remoteBytesReceived=ONCE,NODE

# Twin/diff effectiveness
twinDiffUsed=ONCE,NODE
twinDiffSkipped=ONCE,NODE
twinDiffBytesSaved=ONCE,NODE
twinDiffComputeTime=ONCE,NODE

# Acquire-mode override effectiveness
acquireReadMode=ONCE,NODE
acquireWriteMode=ONCE,NODE
ownerUpdatesSaved=ONCE,NODE
ownerUpdatesPerformed=ONCE,NODE

# Per-arts_id attribution (reduce offline)
artsIdEdtMetrics=OFF
artsIdDbMetrics=OFF
artsIdEdtCaptures=OFF
artsIdDbCaptures=OFF
